<project xmlns="http://maven.apache.org/POM/4.0.0" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://maven.apache.org/POM/4.0.0 http://maven.apache.org/maven-v4_0_0.xsd">
  <modelVersion>4.0.0</modelVersion>
  <parent>
    <groupId>org.overturetool</groupId>
    <artifactId>root</artifactId>
    <version>2.0.0</version>
  </parent>

  <groupId>org.overture</groupId>
  <artifactId>ide</artifactId>
  <packaging>pom</packaging>
  <version>2.0.0</version>
  <name>Overture IDE Top-level</name>
  <description>Super POM for all IDE (Eclipse) artifacts.</description>

  <modules>
    <!-- Put all child Eclipse Plugin projects(modules) here -->

    <module>vdmsl</module>
    <module>vdmpp</module>
    <module>vdmrt</module>
    <module>generated</module>
    <module>platform</module>
    <module>parsers</module>
    <module>builders</module>
    <module>ui</module>
    <module>debug</module>
    <module>plugins</module>
    <module>core</module>
    <module>help</module>
  </modules>

<reporting>
    <plugins>
      <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-javadoc-plugin</artifactId>
       <version>2.6.1</version>
        <configuration>
         <failOnError>false</failOnError>
          <excludePackageNames>*org.eclipse.*</excludePackageNames>
           <stylesheetfile>${basedir}/src/main/javadoc/stylesheet.css</stylesheetfile>
          <show>public</show>
        </configuration>
      </plugin>
    </plugins>
   
  </reporting>
  
  <build>
    <resources>
      <resource>
        <directory>src/main/java</directory>
        <includes>
          <include>**/*.properties</include>
          <include>**/*.xml</include>
        </includes>
      </resource>
      <resource>
        <directory>.</directory>
        <includes>
          <include>plugin.xml</include>
          <include>plugin.properties</include>
          <include>model/**</include>
          <include>icons/**</include>
        </includes>
      </resource>
    </resources>
    <plugins>
      <plugin>
        <groupId>org.codehaus.mojo</groupId>
        <artifactId>cobertura-maven-plugin</artifactId>
        <configuration>
          <instrumentation>
            <excludes>
              <exclude>com/princetonsoftech/**/model/**/impl/*.class</exclude>
              <exclude>com/princetonsoftech/**/model/**/util/*.class</exclude>
              <exclude>com/princetonsoftech/**/pojo/*.class</exclude>
              <exclude>com/princetonsoftech/**/Messages.class</exclude>
              <exclude>com/princetonsoftech/**/wizard/*.class</exclude>
              <exclude>com/princetonsoftech/**/actions/*.class</exclude>
              <exclude>com/cloudgarden/resource/**/*.class</exclude>
            </excludes>
          </instrumentation>
        </configuration>
        <executions>
          <execution>
            <goals>
              <goal>clean</goal>
            </goals>
          </execution>
        </executions>
      </plugin>
      
      <plugin>
        <artifactId>maven-eclipse-plugin</artifactId>
        <configuration>
          <projectnatures>
            <projectnature>org.eclipse.jdt.core.javanature</projectnature>
            <projectnature>org.eclipse.pde.PluginNature</projectnature>
          </projectnatures>
          <buildcommands>
            <buildcommand>org.eclipse.jdt.core.javabuilder</buildcommand>
            <buildcommand>org.eclipse.pde.ManifestBuilder</buildcommand>
            <buildcommand>org.eclipse.pde.SchemaBuilder</buildcommand>
          </buildcommands>
          <classpathContainers>
            <classpathContainer>org.eclipse.pde.core.requiredPlugins</classpathContainer>
          </classpathContainers>
        </configuration>
      </plugin>
      <plugin>
      	<groupId>org.overturetool.tools.maven-pst</groupId>
      	<artifactId>maven-psteclipse-plugin</artifactId>
      	<version>2.0.1</version>    	
        <extensions>true</extensions>
        <configuration>
          <logModifications>true</logModifications>
           <testFrameworkVersion>4.2.2</testFrameworkVersion> <!-- 4.2.200.v200901090100 -->
           <doNotExportPackagePrefixes>
           <param>org.apache</param>
            <param>org.w3c.dom</param>
            <param>org.xml.sax</param>
            <param>org.custommonkey</param>
            <param>javax</param>
            <param>net.sf.xmlunit</param>
            <param>java</param>
            <param>org.kohsuke</param>
           </doNotExportPackagePrefixes>
        </configuration>
        <executions>
        
       <!--    <execution>
            <id>test-package</id>
            <phase>test-compile</phase>
            <goals>
              <goal>testPackage</goal>
            </goals>
          </execution> 
           -->
          <execution>
            <id>update</id>
            <phase>process-resources</phase>
            <goals>
              <goal>update</goal>
            </goals>
          </execution>
          
          <!--execution>
            <id>update-site-classpath</id>
            <phase>pre-site</phase>
            <goals>
              <goal>update</goal>
            </goals>
          </execution-->
  
        </executions>
      	
      </plugin>

	 <plugin>
        <groupId>org.apache.maven.plugins</groupId>
        <artifactId>maven-javadoc-plugin</artifactId>
        <version>2.6.1</version>
        <configuration>
          <show>private</show>
          <nohelp>true</nohelp>
        </configuration>
      </plugin>


    </plugins>
  </build>
  <profiles>
    <profile>
      <id>org.eclipse.swt.win32.Vista</id>
      <activation>
        <os>
          <name>windows vista</name>
          <arch>x86</arch>
        </os>
      </activation>
      <dependencies>
        <dependency>
          <groupId>
            org.overturetool.eclipse.plugins
          </groupId>
          <artifactId>org.eclipse.swt.win32.win32.x86</artifactId>
          <version>3.4.1</version>
          <type>jar</type>
        </dependency>
      </dependencies>
    </profile>
    <profile>
      <id>org.eclipse.swt.win32</id>
      <activation>
        <os>
          <name>windows xp</name>
          <arch>x86</arch>
        </os>
      </activation>
      <dependencies>
        <dependency>
          <groupId>
            org.overturetool.eclipse.plugins
          </groupId>
          <artifactId>org.eclipse.swt.win32.win32.x86</artifactId>
          <version>3.4.1</version>
          <type>jar</type>
        </dependency>
      </dependencies>
    </profile>
    <profile>
      <id>org.eclipse.swt.linux</id>
      <activation>
        <os>
          <name>linux</name>
          <arch>i386</arch>
        </os>
      </activation>
      <dependencies>
        <dependency>
          <groupId>org.overturetool.eclipse.plugins</groupId>
          <artifactId>org.eclipse.swt.gtk.linux.x86</artifactId>
          <version>3.4.1</version>
          <type>jar</type>
        </dependency>
      </dependencies>
    </profile>
  </profiles>
  <properties>
    <org.eclipse.core.runtime>jar</org.eclipse.core.runtime>
    <org.eclipse.jface>jar</org.eclipse.jface>
    <org.eclipse.ui>jar</org.eclipse.ui>
    <org.eclipse.datatools.connectivity>pom</org.eclipse.datatools.connectivity>
    <org.eclipse.datatools.modelbase.dbdefinition>pom</org.eclipse.datatools.modelbase.dbdefinition>
    <org.eclipse.datatools.modelbase.sql>pom</org.eclipse.datatools.modelbase.sql>
    <org.eclipse.datatools.connectivity.sqm.core>jar</org.eclipse.datatools.connectivity.sqm.core>
    <org.eclipse.datatools.connectivity.sqm.core.ui>pom</org.eclipse.datatools.connectivity.sqm.core.ui>
    <org.eclipse.datatools.connectivity.sqm.server.ui>pom</org.eclipse.datatools.connectivity.sqm.server.ui>
    <org.eclipse.datatools.connectivity.ui>pom</org.eclipse.datatools.connectivity.ui>
    <org.eclipse.datatools.connectivity.ui.dse>pom</org.eclipse.datatools.connectivity.ui.dse>
    <org.eclipse.datatools.modelbase.sql>pom</org.eclipse.datatools.modelbase.sql>
    <org.junit>pom</org.junit>
    <org.eclipse.jdt.debug.jdimodel>jar</org.eclipse.jdt.debug.jdimodel>
    <org.eclipse.jdt.debug>jar</org.eclipse.jdt.debug>
    <org.eclipse.jdt.debug.jdi>jar</org.eclipse.jdt.debug.jdi>
    <org.eclipse.jdt.ui>jar</org.eclipse.jdt.ui>
  </properties>
</project>
